{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
  <h2>⚙️ Requisições de API</h2>
  <a href="{% url 'painel:requisicao_form' %}" class="btn btn-success mb-3">➕ Nova Requisição</a>

  {% if requisicoes %}
    <ul class="list-group">
      {% for req in requisicoes %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ req.nome }}</strong>
            <small class="d-block text-muted">{{ req.metodo }} → {{ req.endpoint }}</small>
          </div>
          <div>
            <a href="{% url 'painel:editar_requisicao_api' req.id %}" class="btn btn-sm btn-warning me-2">✏️ Editar</a>
            <a href="{% url 'painel:capturar_variaveis' req.id %}" class="btn btn-sm btn-info">🔍 Variáveis</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-info mt-3">Nenhuma requisição cadastrada.</div>
  {% endif %}

  <a href="{% url 'painel:index' %}" class="btn btn-outline-secondary mt-4">⬅️ Voltar ao Painel</a>
</div>
{% endblock %}